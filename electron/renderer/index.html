<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WATAM AI</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    /* CRITICAL: Force text selection everywhere */
    * {
      -webkit-user-select: text !important;
      user-select: text !important;
    }
    button, .btn, .nav-item, .slider, .switch, input[type="checkbox"], input[type="radio"] {
      -webkit-user-select: none !important;
      user-select: none !important;
      cursor: pointer !important;
    }
  </style>
</head>
<body style="-webkit-user-select: text !important; user-select: text !important;">
  <div class="app">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="logo">
        <h1>WATAM AI</h1>
        <span class="version">v1.2.0</span>
      </div>

      <nav class="nav">
        <div class="nav-item active" data-page="dashboard">
          <span class="icon">üìä</span>
          Dashboard
        </div>
        <div class="nav-item" data-page="persona">
          <span class="icon">ü§ñ</span>
          Persona
        </div>
        <div class="nav-item" data-page="skills">
          <span class="icon">üìö</span>
          Skills
        </div>
        <div class="nav-item" data-page="drafts">
          <span class="icon">üìù</span>
          Drafts
        </div>
        <div class="nav-item" data-page="draft">
          <span class="icon">‚úçÔ∏è</span>
          New Draft
        </div>
        <div class="nav-item" data-page="posts">
          <span class="icon">ÔøΩ</span>
          Posts
        </div>
        <div class="nav-item" data-page="logs">
          <span class="icon">üìã</span>
          Logs
        </div>
        <div class="nav-item" data-page="ai-config">
          <span class="icon">ü§ñ</span>
          AI Agent
        </div>
        <div class="nav-item" data-page="settings">
          <span class="icon">‚öôÔ∏è</span>
          Settings
        </div>
      </nav>

      <div class="safe-mode">
        <label class="switch">
          <input type="checkbox" id="safeModeToggle" checked>
          <span class="slider"></span>
        </label>
        <span class="safe-mode-label">Safe Mode</span>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Dashboard Page -->
      <div id="dashboard" class="page active">
        <header class="page-header">
          <h2>Dashboard</h2>
          <p>Agent status and recent activity</p>
        </header>

        <div class="cards">
          <div class="card">
            <h3>Agent Status</h3>
            <div class="status-indicator online">
              <span class="dot"></span>
              <span>Ready</span>
            </div>
          </div>

          <div class="card">
            <h3>Rate Limits</h3>
            <div id="rateLimits" class="stats">
              <div class="stat">
                <span class="label">Posts (last hour)</span>
                <span class="value">0/3</span>
              </div>
              <div class="stat">
                <span class="label">Comments (last hour)</span>
                <span class="value">0/20</span>
              </div>
            </div>
          </div>

          <div class="card">
            <h3>Security</h3>
            <div id="securityStatus" class="stats">
              <div class="stat">
                <span class="label">Sandbox</span>
                <span class="value">üîí Enabled</span>
              </div>
              <div class="stat">
                <span class="label">Violations</span>
                <span class="value">0</span>
              </div>
            </div>
          </div>
        </div>

        <div class="card">
          <h3>Recent Activity</h3>
          <div id="recentActivity" class="activity-list">
            <p class="empty-state">No recent activity</p>
          </div>
        </div>
      </div>

      <!-- Drafts Page -->
      <div id="drafts" class="page">
        <header class="page-header">
          <h2>Saved Drafts</h2>
          <p>Manage your draft posts</p>
        </header>

        <div id="draftsContainer" class="drafts-container">
          <p class="empty-state">No saved drafts yet. Create one in Draft Studio!</p>
        </div>
      </div>

      <!-- Draft Studio Page -->
      <div id="draft" class="page">
        <header class="page-header">
          <h2>New Draft</h2>
          <p>Create and preview posts before publishing</p>
        </header>

        <div class="draft-form">
          <div class="form-group">
            <label for="submolt">Submolt</label>
            <input type="text" id="submolt" placeholder="art" value="art">
          </div>

          <div class="form-group">
            <label for="topic">Topic / Title</label>
            <input type="text" id="topic" placeholder="Enter post title">
          </div>

          <div class="form-group">
            <label for="draftBody">Post Content</label>
            <textarea id="draftBody" rows="10" placeholder="Write your post content here..."></textarea>
          </div>

          <div class="form-group">
            <label>
              <input type="checkbox" id="includeWatam">
              Include WATAM CTA
            </label>
          </div>

          <div class="form-actions">
            <button id="saveDraftBtn" class="btn btn-secondary">Save Draft</button>
            <button id="previewDraftBtn" class="btn btn-primary">Preview</button>
          </div>
        </div>

        <div id="draftPreview" class="draft-preview hidden">
          <h3>Preview</h3>
          <div class="preview-content">
            <div class="preview-meta">
              <span id="previewSubmolt"></span>
            </div>
            <h4 id="previewTitle"></h4>
            <div id="previewBody"></div>
          </div>
          <div class="preview-actions">
            <button id="publishBtn" class="btn btn-success">Publish to Moltbook</button>
            <button id="copyBtn" class="btn btn-secondary">Copy as Markdown</button>
          </div>
        </div>
      </div>

      <!-- Posts Page -->
      <div id="posts" class="page">
        <header class="page-header">
          <h2>Published Posts</h2>
          <p>Track your posts and respond to comments</p>
        </header>

        <div class="posts-controls">
          <button id="refreshPostsBtn" class="btn btn-secondary">üîÑ Refresh</button>
        </div>

        <div id="postsContainer" class="posts-container">
          <p class="empty-state">No published posts yet. Create and publish a draft!</p>
        </div>
      </div>

      <!-- AI Agent Configuration Page -->
      <div id="ai-config" class="page">
        <header class="page-header">
          <h2>ü§ñ AI Agent Configuration</h2>
          <p>Configure AI model for automatic responses</p>
        </header>

        <!-- AI Provider Selection -->
        <div class="card">
          <h3>AI Provider</h3>
          <p class="info-text">Select your AI provider and enter API credentials</p>
          
          <div class="form-group">
            <label for="aiProvider">AI Provider</label>
            <select id="aiProvider" class="form-control">
              <option value="">-- Select Provider --</option>
              <optgroup label="Local (No API Key Needed)">
                <option value="ollama">üè† Ollama (LOCAL - Your Mac)</option>
              </optgroup>
              <optgroup label="Free Cloud Providers">
                <option value="groq">‚ö° Groq (FREE - Fastest)</option>
                <option value="together">ü§ù Together AI (FREE)</option>
                <option value="huggingface">ü§ó HuggingFace (FREE)</option>
              </optgroup>
              <optgroup label="Premium Providers">
                <option value="openai">üöÄ OpenAI (GPT-5.1, GPT-5)</option>
                <option value="anthropic">üß† Anthropic (Claude 4.5)</option>
                <option value="google">üîÆ Google (Gemini 3)</option>
              </optgroup>
              <optgroup label="Other">
                <option value="custom">‚öôÔ∏è Custom API</option>
              </optgroup>
            </select>
            <small>üí° <strong>Ollama</strong> runs locally (no API key, unlimited), <strong>Groq</strong> is fastest cloud option</small>
          </div>

          <div class="form-group">
            <label for="aiApiKey">API Key</label>
            <input type="password" id="aiApiKey" placeholder="Enter your API key" class="form-control">
            <small>Your API key is stored securely and never shared</small>
          </div>

          <div class="form-group" id="aiModelGroup" style="display: none;">
            <label for="aiModel">Model</label>
            <select id="aiModel" class="form-control">
              <option value="">-- Select Model --</option>
            </select>
          </div>

          <div class="form-group" id="customEndpointGroup" style="display: none;">
            <label for="customEndpoint">Custom API Endpoint</label>
            <input type="text" id="customEndpoint" placeholder="https://api.example.com/v1/chat" class="form-control">
          </div>

          <div class="form-actions">
            <button id="testAiBtn" class="btn btn-secondary">Test Connection</button>
            <button id="saveAiConfigBtn" class="btn btn-primary">Save Configuration</button>
          </div>

          <div id="aiConfigStatus" class="status-message hidden"></div>
        </div>

        <!-- Auto-Reply Settings -->
        <div class="card">
          <h3>‚ö° Auto-Reply Settings</h3>
          <p class="info-text">Configure automatic response behavior</p>
          
          <div class="form-group">
            <label class="switch-label">
              <input type="checkbox" id="autoReplyEnabled">
              <span class="switch-text">Enable Auto-Reply</span>
            </label>
            <small>Agent will automatically respond to posts and comments</small>
          </div>

          <div class="form-group">
            <label for="checkInterval">Check Interval (minutes)</label>
            <input type="number" id="checkInterval" value="5" min="1" max="60" class="form-control">
            <small>How often to check for new posts (minimum 1 minute)</small>
          </div>

          <div class="form-group">
            <label for="replySubmolts">Monitor Submolts</label>
            <input type="text" id="replySubmolts" placeholder="art, music, ai" class="form-control">
            <small>Comma-separated list of submolts to monitor (leave empty for all)</small>
          </div>

          <div class="form-group">
            <label for="replyKeywords">Reply Keywords</label>
            <input type="text" id="replyKeywords" placeholder="WATAM, modX, art" class="form-control">
            <small>Only reply to posts containing these keywords (leave empty for all)</small>
          </div>

          <div class="form-group">
            <label for="maxRepliesPerHour">Max Replies per Hour</label>
            <input type="number" id="maxRepliesPerHour" value="10" min="1" max="20" class="form-control">
            <small>Moltbook limit is 20 comments/hour</small>
          </div>

          <div class="form-actions">
            <button id="saveAutoReplyBtn" class="btn btn-primary">Save Auto-Reply Settings</button>
          </div>
        </div>

        <!-- Advanced AI Settings -->
        <div class="card">
          <h3>üéØ Advanced AI Settings</h3>
          <p class="info-text">Fine-tune AI response quality and behavior</p>
          
          <div class="form-group">
            <label for="responseLength">Response Length</label>
            <select id="responseLength" class="form-control">
              <option value="short">Short (50-100 words) - Quick responses</option>
              <option value="medium" selected>Medium (100-200 words) - Balanced</option>
              <option value="long">Long (200-300 words) - Detailed</option>
            </select>
            <small>Control how verbose the AI responses should be</small>
          </div>

          <div class="form-group">
            <label for="responseStyle">Response Style</label>
            <select id="responseStyle" class="form-control">
              <option value="professional">Professional - Formal and polished</option>
              <option value="friendly" selected>Friendly - Warm and approachable</option>
              <option value="casual">Casual - Relaxed and conversational</option>
              <option value="technical">Technical - Detailed and precise</option>
            </select>
            <small>Set the tone and style of AI responses</small>
          </div>

          <div class="form-group">
            <label for="temperature">Creativity Level (Temperature)</label>
            <input type="range" id="temperature" min="0" max="20" value="7" class="form-control">
            <div class="range-labels">
              <span>Focused (0.0)</span>
              <span id="temperatureValue">0.7</span>
              <span>Creative (2.0)</span>
            </div>
            <small>Lower = more focused and consistent, Higher = more creative and varied</small>
          </div>

          <div class="form-group">
            <label class="switch-label">
              <input type="checkbox" id="usePersona" checked>
              <span class="switch-text">Use Persona & Skills</span>
            </label>
            <small>Include your persona and skills in AI context (recommended)</small>
          </div>

          <div class="form-group">
            <label class="switch-label">
              <input type="checkbox" id="avoidRepetition" checked>
              <span class="switch-text">Avoid Repetitive Responses</span>
            </label>
            <small>AI will try to vary responses to similar posts</small>
          </div>

          <div class="form-actions">
            <button id="saveAdvancedBtn" class="btn btn-primary">Save Advanced Settings</button>
          </div>
        </div>

        <!-- Agent Status -->
        <div class="card">
          <h3>üìä Agent Status</h3>
          
          <div class="agent-status-grid">
            <div class="status-item">
              <span class="status-label">Auto-Reply:</span>
              <span id="autoReplyStatus" class="status-value">Disabled</span>
            </div>
            <div class="status-item">
              <span class="status-label">AI Provider:</span>
              <span id="aiProviderStatus" class="status-value">Not configured</span>
            </div>
            <div class="status-item">
              <span class="status-label">Last Check:</span>
              <span id="lastCheckStatus" class="status-value">Never</span>
            </div>
            <div class="status-item">
              <span class="status-label">Replies Today:</span>
              <span id="repliesTodayStatus" class="status-value">0</span>
            </div>
          </div>

          <div class="form-actions">
            <button id="startAgentBtn" class="btn btn-success">Start Agent</button>
            <button id="stopAgentBtn" class="btn btn-danger" disabled>Stop Agent</button>
            <button id="testReplyBtn" class="btn btn-secondary">Test Reply</button>
            <button id="testConnectionBtn" class="btn btn-info">Test Connection</button>
            <button id="testAgentLoopBtn" class="btn btn-warning">Test Agent Loop</button>
            <button id="testHeartbeatBtn" class="btn btn-primary">Test Heartbeat</button>
            <button id="debugAndFixBtn" class="btn btn-danger">üîß Debug & Fix Issues</button>
          </div>
        </div>

        <!-- Manual Reply to URL -->
        <div class="card">
          <h3>üéØ Send AI Reply to Specific Post</h3>
          <p class="card-description">Enter a Moltbook post URL to send an AI-generated reply</p>
          
          <div class="form-group">
            <label for="manualReplyUrl">Post URL</label>
            <input type="text" id="manualReplyUrl" placeholder="https://www.moltbook.com/post/..." />
            <small>Example: https://www.moltbook.com/post/7402dca5-2567-4cee-800b-6439d10b19d4</small>
          </div>
          
          <div class="form-actions">
            <button id="sendManualReplyBtn" class="btn btn-primary">Generate & Send Reply</button>
          </div>
          
          <div id="manualReplyStatus" class="status-message hidden"></div>
        </div>

        <!-- Recent Activity -->
        <div class="card">
          <h3>üìù Recent Agent Activity</h3>
          <div id="agentActivityLog" class="activity-log">
            <p class="empty-state">No activity yet</p>
          </div>
        </div>
      </div>

      <!-- Settings Page -->
      <div id="settings" class="page">
        <header class="page-header">
          <h2>Settings</h2>
          <p>Configure your agent and Moltbook connection</p>
        </header>

        <!-- Moltbook Agent Registration -->
        <div class="card">
          <h3>üîó Moltbook Agent (Legacy)</h3>
          <p class="card-description">Traditional agent registration with direct API key</p>
          
          <div id="agentNotRegistered" class="agent-section">
            <p class="info-text">Register your agent with Moltbook to start posting and commenting.</p>
            
            <div class="form-group">
              <label for="agentName">Agent Name</label>
              <input type="text" id="agentName" placeholder="watam-agent" value="watam-agent">
              <small>Choose a unique name for your agent</small>
            </div>

            <div class="form-group">
              <label for="agentDescription">Description</label>
              <textarea id="agentDescription" rows="3" placeholder="A helpful AI agent for the WATAM community">A helpful AI agent for the WATAM community</textarea>
            </div>

            <div class="form-actions">
              <button id="registerAgentBtn" class="btn btn-primary">Register Agent</button>
            </div>
          </div>

          <div id="agentRegistered" class="agent-section hidden">
            <div class="agent-status">
              <div class="status-badge" id="agentStatusBadge">
                <span class="dot"></span>
                <span id="agentStatusText">Checking...</span>
              </div>
              <button id="checkStatusBtn" class="btn btn-secondary btn-sm" onclick="if(window.settingsModule && window.settingsModule.checkStatus) window.settingsModule.checkStatus(); else console.error('settingsModule.checkStatus not available');">Check Status</button>
            </div>

            <div class="agent-info">
              <div class="info-row">
                <span class="label">Agent Name:</span>
                <span id="agentNameDisplay" class="value"></span>
              </div>
              <div class="info-row">
                <span class="label">API Key:</span>
                <span id="agentApiKeyMasked" class="value monospace"></span>
              </div>
              <div class="info-row">
                <span class="label">Registered:</span>
                <span id="agentCreatedAt" class="value"></span>
              </div>
            </div>

            <div id="claimSection" class="claim-section hidden">
              <div class="alert alert-warning">
                <strong>‚ö†Ô∏è Action Required:</strong> Complete the claim process to activate your agent.
              </div>

              <div class="claim-info">
                <div class="form-group">
                  <label>Claim URL</label>
                  <div class="input-with-button">
                    <input type="text" id="claimUrl" readonly>
                    <button id="openClaimBtn" class="btn btn-secondary btn-sm">Open</button>
                    <button id="copyClaimBtn" class="btn btn-secondary btn-sm">Copy</button>
                  </div>
                </div>

                <div class="form-group">
                  <label>Verification Code</label>
                  <div class="input-with-button">
                    <input type="text" id="verificationCode" readonly>
                    <button id="copyCodeBtn" class="btn btn-secondary btn-sm">Copy</button>
                  </div>
                </div>

                <div class="claim-instructions">
                  <p><strong>Steps to complete claim:</strong></p>
                  <ol>
                    <li>Click "Open" to visit the claim URL in your browser</li>
                    <li>Log in to your Moltbook account</li>
                    <li>Enter the verification code</li>
                    <li>Complete any required steps (e.g., tweet verification)</li>
                    <li>Return here and click "I completed claim"</li>
                  </ol>
                </div>

                <div class="form-actions">
                  <button id="completedClaimBtn" class="btn btn-success" onclick="if(window.settingsModule && window.settingsModule.checkStatus) window.settingsModule.checkStatus(); else console.error('settingsModule.checkStatus not available');">I completed claim ‚Äî Check status</button>
                </div>
              </div>
            </div>

            <div id="agentActiveSection" class="active-section hidden">
              <div class="alert alert-success">
                <strong>‚úÖ Agent Active:</strong> Your agent is connected and ready to use!
              </div>

              <div class="form-actions">
                <button id="fetchSkillDocBtn" class="btn btn-secondary" onclick="if(window.settingsModule && window.settingsModule.fetchSkillDoc) window.settingsModule.fetchSkillDoc(); else console.error('settingsModule.fetchSkillDoc not available');">Re-fetch skill.md</button>
                <button id="resetAgentBtn" class="btn btn-danger">Reset Agent</button>
              </div>
            </div>
          </div>

          <div id="agentError" class="alert alert-danger hidden"></div>
        </div>

        <!-- Moltbook Identity System - NEW -->
        <div class="card">
          <h3>üÜî Moltbook Identity System</h3>
          <p class="card-description">Secure token-based authentication with reputation tracking</p>
          
          <div id="identityStatus" class="identity-section">
            <div class="identity-info">
              <div class="info-row">
                <span class="label">Agent Status:</span>
                <span id="identityAgentStatus" class="value">Checking...</span>
              </div>
              <div class="info-row">
                <span class="label">Identity Token:</span>
                <span id="identityTokenStatus" class="value">No token</span>
              </div>
              <div class="info-row">
                <span class="label">Token Expires:</span>
                <span id="identityTokenExpiry" class="value">-</span>
              </div>
            </div>

            <div class="form-actions">
              <button id="generateIdentityTokenBtn" class="btn btn-primary" onclick="if(window.settingsModule && window.settingsModule.generateIdentityToken) window.settingsModule.generateIdentityToken(); else console.error('settingsModule.generateIdentityToken not available');">Generate Identity Token</button>
              <button id="checkIdentityStatusBtn" class="btn btn-secondary" onclick="if(window.settingsModule && window.settingsModule.loadIdentityStatus) window.settingsModule.loadIdentityStatus(); else console.error('settingsModule.loadIdentityStatus not available');">Check Status</button>
              <button id="testIdentityTokenBtn" class="btn btn-info" onclick="if(window.settingsModule && window.settingsModule.testIdentityToken) window.settingsModule.testIdentityToken(); else console.error('settingsModule.testIdentityToken not available');">Test Token</button>
            </div>

            <div id="identityTokenDisplay" class="token-display hidden">
              <div class="form-group">
                <label>Identity Token (expires in 1 hour)</label>
                <div class="input-with-button">
                  <textarea id="identityTokenValue" readonly rows="3"></textarea>
                  <button id="copyIdentityTokenBtn" class="btn btn-secondary btn-sm" onclick="if(window.settingsModule && window.settingsModule.copyIdentityToken) window.settingsModule.copyIdentityToken(); else console.error('settingsModule.copyIdentityToken not available');">Copy</button>
                </div>
                <small>Use this token for secure authentication with other services</small>
              </div>
            </div>

            <div id="identityInstructions" class="instructions-section">
              <h4>üîó How to Use Identity Token</h4>
              <p>Your identity token allows secure authentication with other services:</p>
              <ol>
                <li><strong>Generate Token:</strong> Click "Generate Identity Token" (requires active agent)</li>
                <li><strong>Share Token:</strong> Copy the token and provide it to the service</li>
                <li><strong>Service Verifies:</strong> The service calls Moltbook to verify your identity</li>
                <li><strong>Get Profile:</strong> Service receives your agent profile with karma, reputation, etc.</li>
              </ol>
              
              <div class="alert alert-info">
                <strong>üí° Benefits:</strong>
                <ul>
                  <li>üîê <strong>Secure:</strong> Never share your API key</li>
                  <li>‚è±Ô∏è <strong>Temporary:</strong> Tokens expire in 1 hour</li>
                  <li>üèÜ <strong>Reputation:</strong> Services get your karma score and verified status</li>
                  <li>üë§ <strong>Owner Info:</strong> Includes your X/Twitter handle and verification</li>
                </ul>
              </div>
            </div>

            <div id="identityTestResult" class="test-result hidden">
              <h4>üß™ Token Verification Result</h4>
              <div id="identityTestContent"></div>
            </div>
          </div>

          <div id="identityError" class="alert alert-danger hidden"></div>
        </div>

        <!-- Safe Mode Settings -->
        <div class="card">
          <h3>üîí Safe Mode</h3>
          <p class="info-text">When enabled, publishing is disabled. Only drafts can be created.</p>
          
          <div class="form-group">
            <label class="switch-label">
              <input type="checkbox" id="safeModeCheckbox" checked>
              <span class="switch-text">Safe Mode Enabled</span>
            </label>
          </div>

          <div id="safeModeWarning" class="alert alert-info">
            <strong>‚ÑπÔ∏è Safe Mode is ON:</strong> Publishing to Moltbook is disabled. Disable Safe Mode to publish posts and comments.
          </div>
        </div>

        <!-- Rate Limits -->
        <div class="card">
          <h3>‚è±Ô∏è Rate Limits</h3>
          <p class="info-text">Configure posting and commenting rate limits.</p>
          
          <div class="form-group">
            <label for="maxPostsPerHour">Max Posts per Hour</label>
            <input type="number" id="maxPostsPerHour" value="3" min="1" max="10">
          </div>

          <div class="form-group">
            <label for="maxCommentsPerHour">Max Comments per Hour</label>
            <input type="number" id="maxCommentsPerHour" value="20" min="1" max="50">
          </div>

          <div class="form-actions">
            <button id="saveRateLimitsBtn" class="btn btn-primary">Save Rate Limits</button>
          </div>
        </div>

        <!-- App Updates -->
        <div class="card">
          <h3>üîÑ App Updates</h3>
          <p class="info-text">Check for new versions of WATAM AI.</p>
          
          <div class="form-group">
            <div class="info-row">
              <span class="label">Current Version:</span>
              <span class="value">v1.2.0</span>
            </div>
          </div>

          <div class="form-actions">
            <button id="checkUpdatesBtn" class="btn btn-primary">Check for Updates</button>
          </div>

          <div id="updateStatus" class="status-message hidden"></div>
        </div>
      </div>

      <!-- Logs Page -->
      <div id="logs" class="page">
        <header class="page-header">
          <h2>Logs</h2>
          <p>View agent activity and errors</p>
        </header>

        <div class="logs-controls">
          <button id="refreshLogsBtn" class="btn btn-secondary" onclick="loadLogs()">üîÑ Refresh</button>
          <button id="clearLogsBtn" class="btn btn-danger" onclick="if(confirm('Clear all logs?')) window.electronAPI.clearLogs().then(() => loadLogs())">üóëÔ∏è Clear Logs</button>
        </div>

        <div class="logs-container">
          <div id="logsContent" class="logs-content">
            <p class="empty-state">No logs yet</p>
          </div>
        </div>
      </div>

      <!-- Persona Page -->
      <div id="persona" class="page">
        <header class="page-header">
          <h2>Persona Editor</h2>
          <p>Define your agent's personality and behavior</p>
        </header>

        <div class="card">
          <div class="form-group">
            <label for="personaText">Agent Persona</label>
            <textarea 
              id="personaText" 
              rows="15" 
              placeholder="Enter your agent's personality, tone, and behavior guidelines...

Example:
You are a helpful, friendly AI agent for the WATAM community.
- Be warm and welcoming
- Focus on art, music, and creativity
- Always include 'Not financial advice' for token discussions
- Use emojis sparingly
- Keep responses concise and actionable"></textarea>
          </div>

          <div class="form-actions">
            <button id="savePersonaBtn" class="btn btn-primary">Save Persona</button>
            <button id="loadPersonaBtn" class="btn btn-secondary">Load Current</button>
          </div>

          <div id="personaStatus" class="status-message hidden"></div>
        </div>
      </div>

      <!-- Skills Page -->
      <div id="skills" class="page">
        <header class="page-header">
          <h2>Skills Editor</h2>
          <p>Define what your agent knows and can do</p>
        </header>

        <div class="card">
          <div class="form-group">
            <label for="skillsText">Agent Skills & Knowledge</label>
            <textarea 
              id="skillsText" 
              rows="15" 
              placeholder="Enter your agent's skills, knowledge, and capabilities...

Example:
# WATAM Community Skills

## About WATAM
- WeAreTheArtMakers is a creative community
- Website: wearetheartmakers.com
- Focus: Art, Music, AI, Community

## modX Token
- Community governance token
- NOT financial advice
- Educational purposes only

## Moltbook Platform
- Social platform for communities
- Submolts are like subreddits
- Respect rate limits"></textarea>
          </div>

          <div class="form-actions">
            <button id="saveSkillsBtn" class="btn btn-primary">Save Skills</button>
            <button id="loadSkillsBtn" class="btn btn-secondary">Load Current</button>
          </div>

          <div id="skillsStatus" class="status-message hidden"></div>
        </div>
      </div>
    </main>
  </div>

  <!-- Reply Dialog -->
  <div id="replyDialog" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="replyDialogTitle">Reply</h3>
        <button class="modal-close" onclick="window.closeReplyDialog()">&times;</button>
      </div>
      <div class="modal-body">
        <textarea id="replyDialogText" placeholder="Enter your reply..." rows="6"></textarea>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="window.closeReplyDialog()">Cancel</button>
        <button class="btn btn-primary" onclick="window.submitReplyDialog()">Send Reply</button>
      </div>
    </div>
  </div>

  <script src="settings.js"></script>
  <script src="ai-config.js"></script>
  <script src="app.js"></script>
</body>
</html>
